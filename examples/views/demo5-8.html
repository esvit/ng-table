<div class="page-header">
    <h1>Custom header</h1>
</div>

<script data-run-script>
    window.DemoCtrl = function($scope, ngTableParams, $filter) {
        var data = [{name: "Moroni", age: 50},
            {name: "Tiancum", age: 43},
            {name: "Jacob", age: 27},
            {name: "Nephi", age: 29},
            {name: "Enos", age: 34},
            {name: "Tiancum", age: 43},
            {name: "Jacob", age: 27},
            {name: "Nephi", age: 29},
            {name: "Enos", age: 34},
            {name: "Tiancum", age: 43},
            {name: "Jacob", age: 27},
            {name: "Nephi", age: 29},
            {name: "Enos", age: 34},
            {name: "Tiancum", age: 43},
            {name: "Jacob", age: 27},
            {name: "Nephi", age: 29},
            {name: "Enos", age: 34}];

        $scope.tableParams = new ngTableParams({
            page: 1,            // show first page
            count: 10           // count per page
        }, {
            total: data.length, // length of data
            getData: function($defer, params) {
                // use build-in angular filter
                var orderedData = params.sorting() ?
                        $filter('orderBy')(data, params.sorting()) :
                        data;

                $defer.resolve(orderedData.slice((params.page() - 1) * params.count(), params.page() * params.count()));
            }
        });
    }
</script>

<div ng-controller="DemoCtrl">
    <p><strong>Sorting:</strong> {{tableParams.sorting()|json}}

    <table ng-table="tableParams" class="table">
        <thead>
        <tr>
            <th class="sortable" ng-class="{
                    'sort-asc': tableParams.isSortBy('name', 'asc'),
                    'sort-desc': tableParams.isSortBy('name', 'desc')
                  }"
                ng-click="sortBy('name', $event)" rowspan="2">
                <div><i class="glyphicon glyphicon-user"></i> Name</div>
            </th>
            <th colspan="2" class="text-center">Data</th>
        </tr>
        <tr>
            <th class="text-center sortable" ng-class="{
                    'sort-asc': tableParams.isSortBy('age', 'asc'),
                    'sort-desc': tableParams.isSortBy('age', 'desc')
                  }"
                ng-click="sortBy('age', $event)">
                <div>Age</div>
            </th>
            <th class="text-center">etc...</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="user in $data">
            <td data-title="'Name'" sortable="'name'">
                {{user.name}}
            </td>
            <td data-title="'Age'" width="200" sortable="'age'">
                {{user.age}}
            </td>
            <td data-title="'With default braces'" width="200">
                {{user.age}}
            </td>
        </tr>
        </tbody>
    </table>

</div>
